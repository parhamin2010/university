function goToPage(pageNumber){jQuery.ajax({url:theme_object.ajax_url,type:"post",data:{action:"lazy_comments",post_id:theme_object.post_id,cpage:pageNumber,total:window.commentsLazyLoad.totalPage},beforeSend:function(){jQuery("#comments .pagination a").addClass("disabled");jQuery("#commentlist-container").find(".comment-spinner").remove();jQuery("#commentlist-container").append('<div class="comment-spinner pull-left"><i class="fa fa-spin fa-spinner fa-pulse fa-fw"></i></div>');},error:function(jqXHR,textStatus,errorThrown){jQuery("#comments .pagination a").removeClass("disabled");jQuery("#commentlist-container").find(".comment-spinner").remove();},success:function(response){var r=jQuery.parseJSON(response);jQuery("#comments .pagination-wrapper").remove();jQuery(r.comment_pagination).insertAfter("#commentlist-container");jQuery(".commentlist").html(r.comment_list);addLikeBtnData();jQuery("#commentlist-container").find(".comment-spinner").remove();jQuery("body,html").animate({scrollTop:jQuery("#comments").offset().top-50},400);}});return 1;}function historyPush(pageNumber,path){var hash=location.hash?"/"+location.hash:"/#comments";var uri=path+hash;var stateObj={cpage:pageNumber,total:window.commentsLazyLoad.totalPage,post_id:theme_object.post_id,path:path};history.pushState(stateObj,document.title,uri);}jQuery("#comments").on("click",".pagination a",function(e){e.preventDefault();var $this=jQuery(this);var page=parseInt($this.text().replace(/[^0-9\.]/g,""),10);if(isNaN(page)&&isNaN(parseInt($this.attr("href").substr($this.attr("href").lastIndexOf("comment-page-")+13)))){window.commentsLazyLoad.cpage=1;}else{window.commentsLazyLoad.cpage=page>0?page:$this.attr("href").substr($this.attr("href").lastIndexOf("comment-page-")+13);}var href=$this.attr("href").lastIndexOf("comment-page-")>0?$this.attr("href"):$this.attr("href")+"comment-page-"+window.commentsLazyLoad.cpage;historyPush(window.commentsLazyLoad.cpage,href);goToPage(window.commentsLazyLoad.cpage,href);jQuery(this).blur();});window.onpopstate=function(event){try{goToPage(event.state.cpage,event.state.path);}catch(e){}};function addLikeBtnData(){jQuery("#comments .wp_ulike_btn").each(function(){var li=jQuery(this).closest("li");var id=parseInt(li.attr("id").substr(li.attr("id").lastIndexOf("-")+1));jQuery(this).attr("data-ulike-id",id);jQuery(this).attr("data-ulike-type","likeThisComment");jQuery(this).attr("data-ulike-status",3);});}